version: '2.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:

- informations_diplome:
    use_entities:
    - diplome
- informations_interet:
    use_entities:
    - centret_interet

- salutation
- informations_specialite:
    use_entities:
    - specialite


- informations_mention:
    use_entities:
    - mention

- salutations
- aurevoir
- informations_ecole
- orientation
entities:
- centre_interet
- diplome
- mention
- specialite
slots:
  nom:
    type: text
    auto_fill: false
    influence_conversation: false
  prenom:
    type: text
    auto_fill: false
    influence_conversation: false
  telephone:
    type: text
    auto_fill: false
    influence_conversation: false
  email:
    type: text
    auto_fill: false
    influence_conversation: false
  date_naissance:
    type: text
    auto_fill: false
    influence_conversation: false
  dernier_diplome:
    type: text
    auto_fill: false
    influence_conversation: false
  specialite:
    type: text
    auto_fill: false
    influence_conversation: false
  obtention:
    type: text
    auto_fill: false
    influence_conversation: false
  mention:
    type: text
    auto_fill: false
    influence_conversation: false
  centre_interet:
    type: text
    auto_fill: false
    influence_conversation: false
responses:
  utter_aurevoir:
  - text: bye
  utter_iamabot:
  - text: robot

  utter_salutation:
  - text: "Bonjour! je suis Polybot votre assistant scolaire \n
            voulez-vous:"
    buttons:
    - title: Une orientation
      payload: /orientation
    - title: des informations sur l'école
      payload: /informations_ecole

  utter_ask_nom:
  - text: quel est votre nom?
  utter_ask_prenom:
  - text: quel est votre prénom?
  utter_ask_telephone:
  - text: quel est votre numéro de téléphone?
  utter_ask_email:
  - text: quel est votre email?
  utter_ask_date_naissance:
  - text: quel est votre date de naissance (JJ/MM/AAAA)?
  utter_ask_dernier_diplome:
  - text: quel est votre dernier diplome?
    buttons:
    - title: Bac
      payload: /informations_diplome{{"diplome":"bac"}}
    - title: licence
      payload: /informations_diplome{{"diplome":"licence"}}
    - title: master
      payload: /informations_diplome{{"diplome":"master"}}
  utter_ask_specialite:
  - text: quel est la spécialité de votre diplome?
    buttons:
    - title: informatique
      payload: /informations_specialite{{"specialite":"informatique"}}
    - title: math
      payload: /informations_specialite{{"specialite":"math"}}
    - title: physique
      payload: /informations_specialite{{"specialite":"physique"}}
    - title: logistique
      payload: /informations_specialite{{"specialite":"logistique"}}
    - title: Automatique
      payload: /informations_specialite{{"specialite":"Automatique"}}
    - title: Électromécanique
      payload: /informations_specialite{{"specialite":"Électromécanique"}}
    - title: Mécatronique
      payload: /informations_specialite{{"specialite":"Mécatronique"}}
    - title: Mécanique
      payload: /informations_specialite{{"specialite":"Mécanique"}}
    - title: technicien supérieur
      payload: /informations_specialite{{"specialite":"tech-sup"}}
    - title: Réseaux
      payload: /informations_specialite{{"specialite":"réseaux"}}
    - title: Multimédia
      payload: /informations_specialite{{"specialite":"Multimédia"}}
    
  utter_ask_obtention:
  - text: |-
          en qu'elle année avez-vous obtenu votre diplome? (exemple: 2020) 
  utter_ask_mention:
  - text: quel mention avez-vous obtenu?
    buttons:
    - title: bien
      payload: /informations_mention{{"mention":"bien"}}
    - title: passable
      payload: /informations_mention{{"mention":"passable"}}
    - title: assez-bien
      payload: /informations_mention{{"mention":"assez-bien"}}
  utter_ask_centre_interet:
  - text: quel est votre centre d'intéret?
    buttons:
    - title: informatique
      payload: /informations_interet{{"centre_interet":"informatique"}}
    - title: bricoleur
      payload: /informations_interet{{"centre_interet":"bricolage"}}
    - title: resolution de problèmes
      payload: /informations_interet{{"centre_interet":"probleme"}}
    - title: Jeux vidéos
      payload: /informations_interet{{"centre_interet":"jex-vidéos"}}
  utter_submit:
  - text: ok!
  utter_slots_values:
  - text: |-
      vous avez entrer:
       nom: {nom}
       prenom: {prenom}
       email: {email}
       telephone: {telephone}
       naissance: {date_naissance}
       diplome: {dernier_diplome}
       année diplome: {obtention}
       specialité: {specialite}
       interet: {centre_interet}
       mention: {mention}
actions:
- action_csv
- utter_salutation
- utter_slots_values
- utter_submit
- validate_orientation_form
forms:
  orientation_form:
    ignored_intents: null
    required_slots:
      nom:
      - type: from_text
       
      prenom:
      - type: from_text
      telephone:
      - type: from_text
      email:
      - type: from_text
      date_naissance:
      - type: from_text
      dernier_diplome:
      - type: from_entity
        entity: diplome
        intent:
        - informations_diplome
      specialite:
      - type: from_entity
        entity: specialite
        intent:
        - informations_specialite
      obtention:
      - type: from_text
      mention:
      - type: from_entity
        entity: mention
        intent:
        - informations_mention
      centre_interet:
      - type: from_entity
        entity: centre_interet
        intent:
        - informations_interet
